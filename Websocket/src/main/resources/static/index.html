<!doctype html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>tail -f</title>
</head>
<body>
<h2>Live logs</h2>
<div id = "log" style = "
background-color: #000000;
color:#00FF00;
whitespace: pre-wrap;
overflow-y:auto;
font-family:monospace;
padding:10px;
heigth:400px;
border-radius:8px
" ></div>
<script>
    const logEl = document.getElementById("log");
    const webSocket = new WebSocket("ws://" + "localhost:8080/logs");

    webSocket.addEventListener("open", () => {
        appendLog("Connected");
    })

    webSocket.addEventListener("message", (e) => {
        appendLog(e.data);
    })

    webSocket.addEventListener("close", () => {
        appendLog(closed);
    })

    function appendLog(text) {
        text = text.replace(/\r\n/g, '\n');
        logEl.textContent += text + '\n';
        logEL.scrollTop = logEL.scrollHeigth;
    }
</script>
</body>
</html>